{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../http-service.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction UserComponent_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"font\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.form.inputerror.firstName, \" \");\n  }\n}\nfunction UserComponent_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"font\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.form.inputerror.lastName, \" \");\n  }\n}\nfunction UserComponent_option_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const obj_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", obj_r9.key);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(obj_r9.value);\n  }\n}\nfunction UserComponent_td_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"font\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.form.inputerror.loginId, \" \");\n  }\n}\nfunction UserComponent_td_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"font\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.form.inputerror.password, \" \");\n  }\n}\nfunction UserComponent_td_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\")(1, \"font\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.form.inputerror.dob, \" \");\n  }\n}\nfunction UserComponent_tr_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2, \"Prfile :\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelement(4, \"img\", 16);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://localhost:8080/User/profilePic/\", ctx_r6.form.data.id, \"\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction UserComponent_th_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1, \"Update Image :\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction UserComponent_th_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1, \"Upload Image :\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class UserComponent {\n  constructor(httpService, httpClient, route) {\n    this.httpService = httpService;\n    this.httpClient = httpClient;\n    this.route = route;\n    this.form = {\n      data: {},\n      inputerror: {},\n      message: '',\n      preload: []\n    };\n    this.fileToUpload = null;\n    this.route.params.subscribe(params => {\n      this.form.data.id = params[\"id\"];\n      console.log('id===>', this.form.data.id);\n    });\n  }\n  ngOnInit() {\n    this.preload();\n    if (this.form.data.id && this.form.data.id > 0) {\n      this.display();\n    }\n  }\n  formatDateForInput(dateString) {\n    const date = new Date(dateString);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n  preload() {\n    var self = this;\n    this.httpService.get('http://localhost:8080/User/preload', function (res) {\n      console.log(res);\n      self.form.preload = res.result.roleList;\n    });\n  }\n  display() {\n    var self = this;\n    this.httpService.get('http://localhost:8080/User/get/' + this.form.data.id, function (res) {\n      console.log(res);\n      self.form.data = res.result.data;\n      self.form.data.dob = self.formatDateForInput(self.form.data.dob);\n    });\n  }\n  onFileSelect(event) {\n    this.fileToUpload = event.target.files.item(0);\n    console.log(this.fileToUpload);\n  }\n  save() {\n    var self = this;\n    this.httpService.post('http://localhost:8080/User/save', this.form.data, function (res) {\n      console.log('res => ', res);\n      self.form.message = '';\n      self.form.inputerror = {};\n      if (res.result.message) {\n        self.form.message = res.result.message;\n      }\n      if (!res.success) {\n        self.form.inputerror = res.result.inputerror;\n      }\n      if (res.success) {\n        self.form.data.id = res.result.data;\n      }\n      if (self.fileToUpload != null) {\n        self.myFile();\n      }\n    });\n  }\n  myFile() {\n    const formData = new FormData();\n    formData.append('file', this.fileToUpload);\n    return this.httpClient.post(\"http://localhost:8080/User/profilePic/\" + this.form.data.id, formData).subscribe(res => {\n      console.log(this.fileToUpload);\n      console.log('file upload res => ', res);\n    }, error => {\n      console.log(error);\n    });\n  }\n  static {\n    this.ɵfac = function UserComponent_Factory(t) {\n      return new (t || UserComponent)(i0.ɵɵdirectiveInject(i1.HttpServiceService), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserComponent,\n      selectors: [[\"app-user\"]],\n      decls: 55,\n      vars: 17,\n      consts: [[\"align\", \"center\", 1, \"container\", 2, \"margin-top\", \"80px\"], [2, \"color\", \"navy\", \"padding-bottom\", \"10px\"], [3, \"submit\"], [\"type\", \"text\", \"name\", \"firstName\", \"placeholder\", \"enter first name\", 2, \"width\", \"70%\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngIf\"], [\"type\", \"text\", \"name\", \"lastName\", \"placeholder\", \"enter last name\", 2, \"width\", \"70%\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"id\", 2, \"width\", \"70%\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"undefined\", 3, \"ngValue\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"name\", \"loginId\", \"placeholder\", \"enter your email\", 2, \"width\", \"70%\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"password\", \"placeholder\", \"enter first name\", 2, \"width\", \"70%\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"dob\", 2, \"width\", \"70%\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"file\", \"name\", \"imageId\", \"accept\", \"image/*\", 3, \"change\"], [\"type\", \"submit\", \"value\", \"save\"], [\"color\", \"red\"], [3, \"value\"], [\"height\", \"90px\", \"width\", \"90px\", 3, \"src\"]],\n      template: function UserComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"Add User\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"h2\");\n          i0.ɵɵtext(4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"form\", 2);\n          i0.ɵɵlistener(\"submit\", function UserComponent_Template_form_submit_5_listener() {\n            return ctx.save();\n          });\n          i0.ɵɵelementStart(6, \"table\")(7, \"tr\")(8, \"th\");\n          i0.ɵɵtext(9, \"First Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"td\")(11, \"input\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function UserComponent_Template_input_ngModelChange_11_listener($event) {\n            return ctx.form.data.firstName = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(12, UserComponent_td_12_Template, 3, 1, \"td\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"tr\")(14, \"th\");\n          i0.ɵɵtext(15, \"Last Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"td\")(17, \"input\", 5);\n          i0.ɵɵlistener(\"ngModelChange\", function UserComponent_Template_input_ngModelChange_17_listener($event) {\n            return ctx.form.data.lastName = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(18, UserComponent_td_18_Template, 3, 1, \"td\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"tr\")(20, \"th\");\n          i0.ɵɵtext(21, \"Role\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"td\")(23, \"select\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function UserComponent_Template_select_ngModelChange_23_listener($event) {\n            return ctx.form.data.roleId = $event;\n          });\n          i0.ɵɵelementStart(24, \"option\", 7);\n          i0.ɵɵtext(25);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(26, UserComponent_option_26_Template, 2, 2, \"option\", 8);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(27, \"tr\")(28, \"th\");\n          i0.ɵɵtext(29, \"LoginId\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"td\")(31, \"input\", 9);\n          i0.ɵɵlistener(\"ngModelChange\", function UserComponent_Template_input_ngModelChange_31_listener($event) {\n            return ctx.form.data.loginId = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(32, UserComponent_td_32_Template, 3, 1, \"td\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"tr\")(34, \"th\");\n          i0.ɵɵtext(35, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"td\")(37, \"input\", 10);\n          i0.ɵɵlistener(\"ngModelChange\", function UserComponent_Template_input_ngModelChange_37_listener($event) {\n            return ctx.form.data.password = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(38, UserComponent_td_38_Template, 3, 1, \"td\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"tr\")(40, \"th\");\n          i0.ɵɵtext(41, \"DOB\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"td\")(43, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function UserComponent_Template_input_ngModelChange_43_listener($event) {\n            return ctx.form.data.dob = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(44, UserComponent_td_44_Template, 3, 1, \"td\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(45, UserComponent_tr_45_Template, 5, 1, \"tr\", 4);\n          i0.ɵɵelementStart(46, \"tr\");\n          i0.ɵɵtemplate(47, UserComponent_th_47_Template, 2, 0, \"th\", 4);\n          i0.ɵɵtemplate(48, UserComponent_th_48_Template, 2, 0, \"th\", 4);\n          i0.ɵɵelementStart(49, \"td\")(50, \"input\", 12);\n          i0.ɵɵlistener(\"change\", function UserComponent_Template_input_change_50_listener($event) {\n            return ctx.onFileSelect($event);\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(51, \"tr\");\n          i0.ɵɵelement(52, \"th\");\n          i0.ɵɵelementStart(53, \"td\");\n          i0.ɵɵelement(54, \"input\", 13);\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate(ctx.form.message);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngModel\", ctx.form.data.firstName);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.inputerror.firstName != null);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.form.data.lastName);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.inputerror.lastName != null);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.form.data.roleId);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(\"--------Select Role---------\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.form.preload);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.form.data.loginId);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.inputerror.loginId != null);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.form.data.password);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.inputerror.password != null);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.form.data.dob);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.inputerror.dob != null);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.data.id > 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.data.id > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.form.data.id == null);\n        }\n      },\n      dependencies: [i4.NgForOf, i4.NgIf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.DefaultValueAccessor, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["i0","UserComponent","constructor","httpService","httpClient","route","data","inputerror","message","preload","params","subscribe","form","id","console","log","ngOnInit","display","formatDateForInput","dateString","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","self","get","res","result","roleList","dob","onFileSelect","event","fileToUpload","target","files","item","save","post","success","myFile","formData","FormData","append","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Dell\\Desktop\\Angular-Workspace\\angular-simple-project\\src\\app\\user\\user.component.html","C:\\Users\\Dell\\Desktop\\Angular-Workspace\\angular-simple-project\\src\\app\\user\\user.component.ts"],"sourcesContent":["<div align=\"center\" style=\"margin-top: 80px;\" class=\"container\">\n\n    <h2 style=\"color: navy; padding-bottom: 10px;\">Add User</h2>\n\n    <h2>{{form.message}}</h2>\n\n    <form (submit)=\"save()\">\n        <table>\n            <tr>\n                <th>First Name</th>\n                <td><input style=\"width: 70%;\" type=\"text\" [(ngModel)]=\"form.data.firstName\" name=\"firstName\"\n                        placeholder=\"enter first name\">\n                </td>\n                <td *ngIf=\"form.inputerror.firstName != null\">\n                    <font color=\"red\">\n                        {{form.inputerror.firstName}}\n                    </font>\n                </td>\n            </tr>\n\n            <tr>\n                <th>Last Name</th>\n                <td><input style=\"width: 70%;\" type=\"text\" [(ngModel)]=\"form.data.lastName\" name=\"lastName\"\n                        placeholder=\"enter last name\">\n                </td>\n                <td *ngIf=\"form.inputerror.lastName != null\">\n                    <font color=\"red\">\n                        {{form.inputerror.lastName}}\n                    </font>\n                </td>\n            </tr>\n            <tr>\n                <th>Role</th>\n                <td><select name=\"id\" [(ngModel)]=\"form.data.roleId\" style=\"width: 70%;\">\n                        <option [ngValue]=\"\" value=\"undefined\">{{'--------Select Role---------' }}</option>\n                        <option *ngFor=\"let obj of form.preload\" [value]=\"obj.key\">{{obj.value}}</option>\n                    </select>\n                </td>\n            </tr>\n            <tr>\n                <th>LoginId</th>\n                <td><input style=\"width: 70%;\" type=\"text\" [(ngModel)]=\"form.data.loginId\" name=\"loginId\"\n                        placeholder=\"enter your email\">\n                </td>\n                <td *ngIf=\"form.inputerror.loginId != null\">\n                    <font color=\"red\">\n                        {{form.inputerror.loginId}}\n                    </font>\n                </td>\n            </tr>\n\n            <tr>\n                <th>Password</th>\n                <td><input style=\"width: 70%;\" type=\"text\" [(ngModel)]=\"form.data.password\" name=\"password\"\n                        placeholder=\"enter first name\">\n                </td>\n                <td *ngIf=\"form.inputerror.password != null\">\n                    <font color=\"red\">\n                        {{form.inputerror.password}}\n                    </font>\n                </td>\n            </tr>\n\n            <tr>\n                <th>DOB</th>\n                <td><input style=\"width: 70%;\" type=\"date\" [(ngModel)]=\"form.data.dob\" name=\"dob\"></td>\n                <td *ngIf=\"form.inputerror.dob != null\">\n                    <font color=\"red\">\n                        {{form.inputerror.dob}}\n                    </font>\n                </td>\n            </tr>\n\n            <tr *ngIf=\"form.data.id > 0\">\n                <th>Prfile :</th>\n                <td>\n                    <img src=\"http://localhost:8080/User/profilePic/{{form.data.id}}\" height=\"90px\" width=\"90px\">\n                </td>\n            </tr>\n\n            <tr>\n                <th *ngIf=\"form.data.id > 0\">Update Image :</th>\n                <th *ngIf=\"form.data.id == null\">Upload Image :</th>\n                <td><input type=\"file\" name=\"imageId\" (change)=\"onFileSelect($event)\" accept=\"image/*\">\n                </td>\n            </tr>\n\n            <tr>\n                <th></th>\n                <td><input type=\"submit\" value=\"save\"></td>\n            </tr>\n        </table>\n    </form>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { HttpServiceService } from '../http-service.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.css']\n})\nexport class UserComponent implements OnInit {\n\n  form: any = {\n    data: {},\n    inputerror: {},\n    message: '',\n    preload: []\n  }\n\n  fileToUpload: any = null;\n\n  constructor(private httpService: HttpServiceService, private httpClient: HttpClient, private route: ActivatedRoute) {\n    this.route.params.subscribe((params: any) => {\n      this.form.data.id = params[\"id\"];\n      console.log('id===>', this.form.data.id)\n    })\n  }\n\n  ngOnInit(): void {\n    this.preload();\n    if (this.form.data.id && this.form.data.id > 0) {\n      this.display();\n    }\n  }\n\n  formatDateForInput(dateString: string) {\n    const date = new Date(dateString);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n\n\n  preload() {\n    var self = this\n    this.httpService.get('http://localhost:8080/User/preload', function (res: any) {\n      console.log(res)\n      self.form.preload = res.result.roleList;\n    });\n  }\n\n  display() {\n    var self = this\n    this.httpService.get('http://localhost:8080/User/get/' + this.form.data.id, function (res: any) {\n      console.log(res)\n      self.form.data = res.result.data;\n      self.form.data.dob = self.formatDateForInput(self.form.data.dob);\n    });\n  }\n\n\n  onFileSelect(event: any) {\n    this.fileToUpload = event.target.files.item(0);\n    console.log(this.fileToUpload);\n  }\n\n  save() {\n    var self = this\n    this.httpService.post('http://localhost:8080/User/save', this.form.data, function (res: any) {\n      console.log('res => ', res)\n\n      self.form.message = '';\n      self.form.inputerror = {};\n\n      if (res.result.message) {\n        self.form.message = res.result.message;\n      }\n\n      if (!res.success) {\n        self.form.inputerror = res.result.inputerror;\n      }\n\n      if (res.success) {\n        self.form.data.id = res.result.data;\n      }\n\n      if (self.fileToUpload != null) {\n        self.myFile();\n      }\n\n    });\n  }\n\n  myFile() {\n    const formData = new FormData();\n    formData.append('file', this.fileToUpload);\n    return this.httpClient.post(\"http://localhost:8080/User/profilePic/\" + this.form.data.id, formData).subscribe((res: any) => {\n      console.log(this.fileToUpload);\n      console.log('file upload res => ', res);\n    }, error => {\n      console.log(error);\n    });\n  }\n\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}